
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Mark I - deshipu.art</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/basic.css" />
    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="../../../genindex/" />
    <link rel="search" title="Search" href="../../../search/" />
  
     
    <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
    <link rel="icon" type="image/png" href="../../../_static/favicon.png">

  
  <link rel="alternate" type="application/atom+xml"  href="../../../blog/atom.xml" title="deshipu.art">
  

  </head><body>
<div id="topbar">
<div id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="../../../search/" method="get">
      <input type="text" name="q" />
      <input type="submit" value="search" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
    <div id="logo"><a href="../../../">
        <img
            src="/_static/logo.png"
            alt=""
        />deshipu.art</a></div>
</div>

<div role="main">
  <section id="mark-i">
<h1>Mark I<a class="headerlink" href="#mark-i" title="Permalink to this heading">¶</a></h1>
<p>Published on 2018-04-03 in <a class="reference internal" href="../#project-100853"><span class="std std-ref">CircuitPython Badge</span></a>.</p>
<p>The PCBs from <a class="reference external" href="https://hackaday.io/hacker/131216">&#64;oshpark </a> arrived today, and I assembled one of them in the evening. Spent some
frustrating minutes fighting with the programmer, until I realized
that the wire connections were simply loose. After that, I quickly
compiled the firmware (used CircuitPython 3.0alpha1 for Trinket M0,
just modified the pin definitions, and made sure the gamepad library
is compiled). When the USB disk appeared as it should, I copied the
files from the prototype board I was using, and… nothing. The
display doesn’t seem to do anything.</p>
<p>Ok, let’s make sure all the connections are solid, no shorts, the pins
have correct voltages and the signals on them look good, the pin order
is also good. The display worked before I desoldered it from the
module, so what is wrong?</p>
<p>After much head scratching, I found the reason: the pull-up resistor
the SAMD21 has on the reset pin is too weak for the display. After
adding a 100kΩ pull-up on the back on the board, the display worked!</p>
<img alt="projects/project-100853/images/7692351522786922739.jpg" src="projects/project-100853/images/7692351522786922739.jpg" />
<p>You can also see a large pad for soldering the clip — it is a badge,
after all!</p>
<p>It also works with a LIR2302 battery, so that’s great. I made it so
that when USB is not connected, there is no backlight — this way the
battery should last rather long. If you really need the light, you can
connect the badge to a powerbank, I guess…</p>
<p>So this is one design that works, but we will see if we can do better.
Tomorrow I should receive an e-ink display module for testing — I’m
curious about how that one will work.</p>
<p>To summarize, Mark I has:</p>
<ul class="simple">
<li><p>128×64 1.54” LCD display (with rather slow updates),</p></li>
<li><p>backlight only working when powered by the USB port,</p></li>
<li><p>SAMD21 chip with CircuitPython,</p></li>
<li><p>a tiny (64kB IIRC) USB drive (using the flash on the chip),</p></li>
<li><p>6 buttons,</p></li>
<li><p>switch that switches between the battery and USB power,</p></li>
<li><p>6 free GPIO pins broken out on the back,</p></li>
<li><p>micro-usb port.</p></li>
</ul>
</section>


</div>
  </body>
</html>