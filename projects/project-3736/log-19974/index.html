
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Second Try on the Sensor - deshipu.art</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/basic.css" />
    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="../../../genindex/" />
    <link rel="search" title="Search" href="../../../search/" />
  
     
    <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
    <link rel="icon" type="image/png" href="../../../_static/favicon.png">

  
  <link rel="alternate" type="application/atom+xml"  href="../../../blog/atom.xml" title="deshipu.art">
  

  </head><body>
<div id="topbar">
<div id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="../../../search/" method="get">
      <input type="text" name="q" />
      <input type="submit" value="search" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
    <div id="logo"><a href="../../../">
        <img
            src="/_static/logo.png"
            alt=""
        />deshipu.art</a></div>
</div>

<div role="main">
  <section id="second-try-on-the-sensor">
<h1>Second Try on the Sensor<a class="headerlink" href="#second-try-on-the-sensor" title="Permalink to this heading">¶</a></h1>
<p>Published on 2015-06-25 in <span class="xref std std-ref">project-3736</span>.</p>
<p>I finally found the motivation today to replace the distance sensor on
µBob.  That involved de-soldering the ESP-12 module, replacing the
sensor, bending the legs just right, replacing the power switch with a
smaller one, and re-soldering the ESP-12. I also made a small change
in the software, to make it start walking immediately after being
powered on – this way I can show it off at various conferences and
talks without having to connect to WiFi to issue the commands.</p>
<iframe style="width: 500px; height: 281px;" width="500" height="281" frameborder="0" allowfullscreen="None" src="https://www.youtube.com/embed/ZexN6fpkvF8"></iframe>
<p>I also tested the new sensor (after moving the battery out of the
way), but it seems that it’s not working properly. The previous one
was always high, this one is always low. Using a cellphone camera I
can see that the light in the sensor is actually shining properly, so
I suppose it’s something wrong with my wiring – either the
connections are wrong, or the PCB that I etched has some gap or short.
Either way, no sensors for this version of µBob.</p>
<img alt="projects/project-3736/images/9101921435245450854.jpg" src="projects/project-3736/images/9101921435245450854.jpg" />
<p>I other news, while Micropython for the ESP8266 is still very
experimental and not suitable yet to control this robot, there is some
very nice support for ESP8266 in the Arduino IDE now, and the have
ported <a class="reference external" href="https://github.com/esp8266/Arduino#servo">the Servo library</a> . They claim it can support up to 12 servos with a single timer, and
up to 24 with the second one used. Which makes me wonder how I would
connect them all when the best module so far, ESP-12, has only 10
usable GPIO pins (well, 11 if I use some trick to have GPIO15 held
down at boot). There are <a class="reference external" href="http://s1.electrodragon.com/wp-content/uploads/2015/04/ESP12E-pins.png">some rumors about an ESP-12D module</a> , which has 2 additional usable GPIO pins due to using a dual-channel
flash chip, instead of quad-channel one, but nobody seems to have
those in stock. In any case, that would let me build an ESP-based
quadruped robot, so took some time already to design a servo breakout
board for it:</p>
<img alt="projects/project-3736/images/9348441435245873331.png" src="projects/project-3736/images/9348441435245873331.png" />
<p>It’s one inch by one inch, has room for a dozen of those ultra-micro
servos, a voltage regulator, and free analog pin, which could maybe be
used for some sensor… If I can’t find an ESP-12D, an ESP-12 will
also work, sans 2 servos. But I can still build a quadruped like <span class="xref std std-ref">project-6321</span>  with just eight of the servos.</p>
</section>


</div>
  </body>
</html>