
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Remote control with ESP8266 and Micropython - deshipu.art</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/basic.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="../../genindex/" />
    <link rel="search" title="Search" href="../../search/" />
  
     
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <link rel="icon" type="image/png" href="../../_static/favicon.png">

  
  <link rel="alternate" type="application/atom+xml"  href="../../blog/atom.xml" title="deshipu.art">
  

  </head><body>
<div id="topbar">
<div id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="../../search/" method="get">
      <input type="text" name="q" />
      <input type="submit" value="search" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
    <div id="logo"><a href="../../">
        <img
            src="/_static/logo.png"
            alt=""
        />deshipu.art</a></div>
</div>

<div role="main">
  <section id="remote-control-with-esp8266-and-micropython">
<h1>Remote control with ESP8266 and Micropython<a class="headerlink" href="#remote-control-with-esp8266-and-micropython" title="Permalink to this heading">¶</a></h1>
<p>Published on 2015-06-17 in <a class="reference internal" href="../project-6050/#project-6050"><span class="std std-ref">Tote</span></a>.</p>
<section id="since-some-time-i-was-planning-to-write-a-log-about-how-to-extend-tote-with-additional-boards-i-was-planning-to-show-examples-of-connecting-the-raspberry-pi-teensy-3-1-esp8266-and-anything-else-i-could-find-all-running-different-kinds-of-python-that-would-also-let-me-score-more-points-in-the-mountain-of-prizes-as-those-boards-use-chips-from-all-kinds-of-manufacturers-and-i-could-claim-then-that-tote-uses-them-but-reality-as-always-interferes">
<h2>Since some time I was planning to write a log about how to extend Tote
with additional boards. I was planning to show examples of connecting
the Raspberry Pi, Teensy 3.1, ESP8266 and anything else I could find,
all running different kinds of Python. That would also let me score
more points in the “ <a class="reference external" href="http://hackaday.com/2015/06/08/a-mountain-of-prizes-for-projects-using-these-parts/">mountain of prizes</a> “ as those boards use chips from all kinds of manufacturers, and I
could claim then that Tote “uses” them. But reality as always
interferes.<a class="headerlink" href="#since-some-time-i-was-planning-to-write-a-log-about-how-to-extend-tote-with-additional-boards-i-was-planning-to-show-examples-of-connecting-the-raspberry-pi-teensy-3-1-esp8266-and-anything-else-i-could-find-all-running-different-kinds-of-python-that-would-also-let-me-score-more-points-in-the-mountain-of-prizes-as-those-boards-use-chips-from-all-kinds-of-manufacturers-and-i-could-claim-then-that-tote-uses-them-but-reality-as-always-interferes" title="Permalink to this heading">¶</a></h2>
<p>Raspberry Pi now requires at least 3GB SD card for its system image,
and turns out I don’t have any that big around.</p>
<p>The Micropython port for Teensy 3.1 doesn’t yet support UART (even
though the module with all the functions is there, they just do
nothing).</p>
<p>The Micropython port for ESP8266 doesn’t have enough room for my
Python code for controlling the robot.</p>
<p>So I had to settle down to just showing how to do remote control over
something else than a TV remote. I’m still using the ESP8266 with
Micropython on it, except instead of controlling the motions of the
whole robot with it, as I planned, I’m just passing the keypresses
from the computer, and the Arduino still takes care of moving the
legs. Oh well. It still took me several hours of debugging to get
working.</p>
<p>Let’s start with a very simple thing – controlling the robot over a
serial cable, connected directly to an USB2TTL module stuck in your
computer’s USB port. You need three wires: GND, TX and RX. You connect
them to the FTDI header on the Pro Mini, and to the USB2TTL in
following way:</p>
<ul class="simple">
<li><p>GND ↔ GND</p></li>
<li><p>RX ↔ TX</p></li>
<li><p>TX ↔ RX</p></li>
</ul>
<p>By the way, this is also an excellent way of debugging the robot –
you can print stuff to the serial console and verify that the program
does what you think it should. Anyways, you will need some extra code
on your Pro Mini too. There are two ways to go about this.</p>
<p>You can just have a very simple <a class="reference external" href="https://bitbucket.org/thesheep/ukubik/src/tip/ukubik/">servo controller</a>  on the Arduino side, and feed it servo positions every frame from the <a class="reference external" href="https://bitbucket.org/thesheep/ukubik/src/tip/creep.py">Python code for the gaits</a> . That’s exactly what the <span class="xref std std-ref">project-3300</span></p>
<p><a class="reference external" href="https://bitbucket.org/thesheep/tote/src/tip/start/"></a>  <a class="reference external" href="https://bitbucket.org/thesheep/tote/src/460f15fa2da489125bb3ade9d76b81fb3b1b60ad/start/serial.ino?at=serial-control"></a></p>
<iframe style="width: 500px; height: 281px;" width="500" height="281" frameborder="0" allowfullscreen="None" src="https://www.youtube.com/embed/Da69xJNugLQ"></iframe>
<img alt="https://cdn.hackaday.io/images/9500271434528311364.jpg" src="https://cdn.hackaday.io/images/9500271434528311364.jpg" />
<p><a class="reference external" href="https://learn.adafruit.com/building-and-running-micropython-on-the-esp8266"></a>  <a class="reference external" href="https://github.com/micropython/micropython/tree/master/docs/library"></a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<hr class="docutils" />
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<p>__</p>
<div class="highlight-ruby notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<img alt="https://cdn.hackaday.io/images/6642121434528945481.jpg" src="https://cdn.hackaday.io/images/6642121434528945481.jpg" />
<p>__</p>
<img alt="https://cdn.hackaday.io/images/2532981434529049651.jpg" src="https://cdn.hackaday.io/images/2532981434529049651.jpg" />
<hr class="docutils" />
<iframe style="width: 500px; height: 281px;" width="500" height="281" frameborder="0" allowfullscreen="None" src="https://www.youtube.com/embed/4HnUbrXEJcQ"></iframe>
</section>
</section>


</div>
  </body>
</html>