---
blogpost: true
date: 2017-03-18
category: project-20379
---

# Inverse Kinematics
Published on 2017-03-18 in {ref}`project-20379`.

Inverse kinematics for delta robots seem to have an opinion of being
very complex and un-intuitive. I don't really understand why, because
to me they seem to be simpler then for most other robot arm
configurations. Perhaps I'm missing something.

Let's split the problem in two parts. First, let's just look at 1/3 of
the robot, a single "arm" of the delta:


:::{image} images/7303201489803245721.png

:::


We only have one degree of freedom here: the angle ￼￼α. That's our output, what we need to calculate. And we only really
have one input: the distance AD between the business end of the robot
and the base of the servo. We also know all the mechanical dimensions
of the robot: AB, BC, CD, DE. So how can we calculate α? From the [law of cosines](https://en.wikipedia.org/wiki/Law_of_cosines) , of course! Given a triangle with dimensions a, b c, the law of
cosines lets us calculate the angles of that triangle:


:::{image} /api/latex?tex=%5Ccolor%7BWhite%7D%20%5Clarge%20%5Cgamma%20%3D%20%5Carccos%20%5Cfrac%7Ba%5E2%2Bb%5E2%20-%20c%5E2%7D%7B2ab%7D

:::
Where γ is the angle opposite c. Also, we will actually calculate 180°-￼￼α, which is a sum of three angles:

ADE, ADB and BDC. So we have:


:::{image} /api/latex?tex=%5Ccolor%7BWhite%7D%20%5Clarge%20ADE%20%3D%20%5Carccos%5Cfrac%7BDE%7D%7BAD%7D

:::
\



:::{image} /api/latex?tex=%5Ccolor%7BWhite%7D%20%5Clarge%20BD%20%3D%20%5Csqrt%7BAD%5E2%20-%20ED%5E2%20%2B%20(ED%20-%20AB)%5E2%7D

:::

:::{image} /api/latex?tex=%5Ccolor%7BWhite%7D%20%5Clarge%20ADB%20%3D%20%5Carccos%5Cfrac%7BAD%5E2%20%2B%20BD%5E2%20-%20AB%5E2%7D%7B2%5Ctimes%20AD%20%5Ctimes%20BD%7D

:::



:::{image} /api/latex?tex=%5Ccolor%7BWhite%7D%20%5Clarge%20BDC%20%3D%20%5Carccos%5Cfrac%7BBD%5E2%20%2B%20CD%5E2%20-%20BC%5E2%7D%7B2%5Ctimes%20BD%5Ctimes%20CD%7D

:::
And finally:


:::{image} /api/latex?tex=%5Ccolor%7BWhite%7D%20%5Clarge%20%5Calpha%20%3D%20180%5Cdegree%20-%20ADE%20-%20ADB%20-%20BDC

:::
That's it. That's the position the servo needs to move to. All we need
to know is the distance AD. How can we know that distance for each of
the arms? That's very simple! It's just the distance between the point
we want our robot to move to, (x, y, z), and the base of the given
arm, (x₁, y₁, z₁), which we know (we can measure them or calculate
from the distance ED and the angle of the given arm).


:::{image} /api/latex?tex=%5Ccolor%7BWhite%7D%20%5Clarge%20AD%20%3D%20%5Csqrt%7B(x-x_1)%5E2%20%2B%20(y-y_1)%5E2%20%2B%20(z%20-%20z_1)%5E2%7D

:::
Applying all this math should let us move the robot to the coordinates
we desire.

