<?xml version='1.0' encoding='UTF-8'?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en">
  <id>http://deshipu.art/</id>
  <title>deshipu.art</title>
  <updated>2024-10-07T10:16:14.103337+00:00</updated>
  <link href="http://deshipu.art/"/>
  <link href="http://deshipu.art/blog/atom.xml" rel="self"/>
  <generator uri="https://ablog.readthedocs.org/" version="0.10.33">ABlog</generator>
  <entry>
    <id>http://deshipu.art/projects/project-178061/log-231499/</id>
    <title>S3 with a Module</title>
    <updated>2024-07-25T00:00:00+02:00</updated>
    <content type="html">&lt;section class="tex2jax_ignore mathjax_ignore" id="s3-with-a-module"&gt;

&lt;p&gt;Published on 2024-07-25 in &lt;a class="reference internal" href="../projects/project-178061/#project-178061"&gt;&lt;span class="std std-ref"&gt;PewPew S2&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I finally gave up on the parallel display. It seems that something in
IDF is broken again, and since it’s broken now, even if it gets fixed,
chances are that it will break again. I can instead stick to what is
working reliably, especially since the ESP32 can do very fast SPI
clocks, and that might be even faster than the parallel protocol.&lt;/p&gt;
&lt;p&gt;In any case, I designed that board with a WROOM module, using the SPI
display, a LiPo battery with a charging circuit, and a bunch of other
extra features: backlight control, battery monitoring, a light sensor,
and all the unused pins broken out to a connector on the back.&lt;/p&gt;
&lt;img alt="../_images/9536251721943151898.png" src="../_images/9536251721943151898.png" /&gt;
&lt;p&gt;I assumed the popular Nokia BL-5C battery, but I also found some very
thin (3mm) pouch batteries of the same size, so I’m going to use those
in my prototypes. I still need to figure out some way to hold the
battery in place, and maybe some pogo pins for the battery connector.
For now it’s held by some masking tape.&lt;/p&gt;
&lt;img alt="../_images/4568981721943341933.jpg" src="../_images/4568981721943341933.jpg" /&gt;
&lt;p&gt;I like the thin pouch battery, because it makes the whole console
almost completely flat:&lt;/p&gt;
&lt;img alt="../_images/4266341721943388017.jpg" src="../_images/4266341721943388017.jpg" /&gt;
&lt;p&gt;As for the software, there were no problems. I prepared a board
definition for CircuitPython, with 16MB flash and 8MB of PSRAM, and
the Stage library enabled. I even added the display initialization to
the firmware. Flashing is easy, because the BOOT button is the X
button, like in the previous version. It worked at the first try.&lt;/p&gt;
&lt;img alt="../_images/573811721943533443.jpg" src="../_images/573811721943533443.jpg" /&gt;
&lt;p&gt;The power switch is only for the battery power — connecting the USB
always turns the device on, and always charges the battery. It was
easier to do it that way, though it might be annoying if you wanted to
just charge it without switching it on.&lt;/p&gt;
&lt;p&gt;As I said, I still don’t know how I will solve the battery cover. For
now I attached the PCB of one of the old prototypes on the back, and
that seems to work pretty well. I might do something similar in the
final version.&lt;/p&gt;
&lt;img alt="../_images/6974671721943780003.jpg" src="../_images/6974671721943780003.jpg" /&gt;
&lt;p&gt;I still have some nicer machine screws and washers on order – I should
be able to control the spacing of the layers better with those.&lt;/p&gt;
&lt;p&gt;I’m also still not entirely happy with the buttons and the d-pad. I
want to experiment with 3D printing them, but for that I would have to
refresh my OpenSCAD skills a bit, and possibly order a whole bunch of
prototypes to be printed, since I don’t have a 3D printer myself. It
might take a lot of back-and-forth to get the spacing right.&lt;/p&gt;
&lt;/section&gt;
</content>
    <link href="http://deshipu.art/projects/project-178061/log-231499/" rel="alternate"/>
    <summary>Published on 2024-07-25 in project-178061.</summary>
    <published>2024-07-25T00:00:00+02:00</published>
  </entry>
  <entry>
    <id>http://deshipu.art/projects/project-197886/log-1/</id>
    <title>Better Power Circuit</title>
    <updated>2024-08-07T00:00:00+02:00</updated>
    <content type="html">&lt;section class="tex2jax_ignore mathjax_ignore" id="better-power-circuit"&gt;

&lt;p&gt;Published on 2024-08-07 in &lt;a class="reference internal" href="../projects/project-197886/#project-197886"&gt;&lt;span class="std std-ref"&gt;Tiny OLED&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I have made similar handhelds before, and if you look through hackaday.io a bit, you will find many similar consoles made by other people, all of them using the same 128x64 OLED display, six buttons, and a variety of microcontrollers. So what’s interesting in doing it one more time?&lt;/p&gt;
&lt;p&gt;Well, I’ve been iterating on my handheld game consoles for a while, and I have learned some things in the process — I’m not really a professional electrical engineer, so a lot of things I use in my designs are just tricks that I have learned from somewhere (often lifted from other people’s designs). This time I used some new tricks.&lt;/p&gt;
&lt;p&gt;First and foremost, there is a boost converter on this board, so not only will it run from a regular coin cell battery (not rechargeable), but it will run on it until there is no electron left to suck out of it. And it should even run with the weaker batteries sold in some countries.&lt;/p&gt;
&lt;p&gt;Second, the power switch is no longer switching between battery and USB power. There is now a proper power switching circuit, that cuts the battery power when USB is connected.&lt;/p&gt;
&lt;p&gt;Third, I added a reset circuit to the OLED screen, that handles the required physical reset of the display some time after powering it on. Previously I wasted a GPIO pin just for that, but adding those simple three components lets me use the pin for a speaker instead..&lt;/p&gt;
&lt;p&gt;Fourth, I’m back to physical tact switches, instead of touch pads, and I’m using some very nice, low-force clicky switches that I found through a lot of trial and error.&lt;/p&gt;
&lt;p&gt;Fifth, the display is right side up this time, with a slot in the middle of the PCB for the FPC connector. It took some work to get the spacing right for this. There are even pilot holes for soldering it more easily. I might make the slot a milimeter or so longer next time, to make it easier to get the connector through it, though (right now you have to bend it to get it through the hole).&lt;/p&gt;
&lt;p&gt;Sixth, I also added an optional footprint for a BH1/2AA battery holder, for those who want to have a battery that lasts a little bit longer, but still is pretty small.&lt;/p&gt;
&lt;p&gt;Seventh, the speaker is without amplification, just with a protecting resistor. This is because any louder sounds would rapidly drain the battery. We only want very quiet and simple sounds here.&lt;/p&gt;
&lt;/section&gt;
</content>
    <link href="http://deshipu.art/projects/project-197886/log-1/" rel="alternate"/>
    <summary>Published on 2024-08-07 in project-197886.</summary>
    <published>2024-08-07T00:00:00+02:00</published>
  </entry>
  <entry>
    <id>http://deshipu.art/projects/project-197769/log-1/</id>
    <title>Should Be Fine Now</title>
    <updated>2024-08-07T00:00:00+02:00</updated>
    <content type="html">&lt;section class="tex2jax_ignore mathjax_ignore" id="should-be-fine-now"&gt;

&lt;p&gt;Published on 2024-08-07 in &lt;a class="reference internal" href="../projects/project-197769/#project-197769"&gt;&lt;span class="std std-ref"&gt;Mini OLED SAO&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I uploaded the corrected design files now, they should be the same as the first prototype.&lt;/p&gt;
&lt;/section&gt;
</content>
    <link href="http://deshipu.art/projects/project-197769/log-1/" rel="alternate"/>
    <summary>Published on 2024-08-07 in project-197769.</summary>
    <published>2024-08-07T00:00:00+02:00</published>
  </entry>
  <entry>
    <id>http://deshipu.art/projects/project-197769/</id>
    <title>Mini OLED SAO</title>
    <updated>2024-10-06T00:00:00+02:00</updated>
    <content type="html">&lt;section class="tex2jax_ignore mathjax_ignore" id="mini-oled-sao"&gt;

&lt;p&gt;Improve your paper conference badge with some blinking lights.&lt;/p&gt;
&lt;div class="project-thumb"&gt;
&lt;a class="reference external image-reference" href="/_images/2899431725992608111.jpg"&gt;&lt;img alt="../_images/thumb-2899431725992608111.jpg" src="../_images/thumb-2899431725992608111.jpg" /&gt;&lt;/a&gt;
&lt;/div&gt;
&lt;p&gt;A simple add-on with a tiny OLED screen on it, controller over I2C.&lt;/p&gt;
&lt;section id="logs"&gt;
&lt;h2&gt;Logs&lt;/h2&gt;
&lt;ul class="postlist-style-none postlist simple"&gt;
&lt;li class="ablog-post"&gt;&lt;p class="ablog-post-title"&gt;2024-08-07 - &lt;a class="reference internal" href="../projects/project-197769/log-1/"&gt;Should Be Fine Now&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/section&gt;
&lt;/section&gt;
</content>
    <link href="http://deshipu.art/projects/project-197769/" rel="alternate"/>
    <summary>A 0.66” I2C OLED display as a Simple Add-on.</summary>
    <category term="completedproject" label="completed project"/>
    <category term="hardware" label="hardware"/>
    <published>2024-10-06T00:00:00+02:00</published>
  </entry>
  <entry>
    <id>http://deshipu.art/projects/project-197886/</id>
    <title>Tiny OLED</title>
    <updated>2024-10-07T00:00:00+02:00</updated>
    <content type="html">&lt;section class="tex2jax_ignore mathjax_ignore" id="tiny-oled"&gt;

&lt;p&gt;Tiny handheld with OLED and XIAO.&lt;/p&gt;
&lt;div class="project-thumb"&gt;
&lt;a class="reference external image-reference" href="/_images/820851726051722654.jpg"&gt;&lt;img alt="../_images/thumb-820851726051722654.jpg" src="../_images/thumb-820851726051722654.jpg" /&gt;&lt;/a&gt;
&lt;/div&gt;
&lt;p&gt;The “small game console with an OLED screen” is practically a genre already. There are dozens of such projects, with all kinds of microcontrollers on board. I decided to do one more iteration on this design, using all the experience I gained recently with power circuits for such boards. Since the microcontroller wasn’t the interesting part here, I just left a Seeed XIAO footprint on the back, so you can use any XIAO board – that gives you a rich selection of microcontrollers to choose from, including some 3rd party designs like the MIAO board.&lt;/p&gt;
&lt;p&gt;For the prototype I used an RP2040 XIAO, running CircuitPython, and since I didn’t have time to write special games for it, I just ported my PewPew library to it, so that I can play all the PewPew games on it in their 8x8 pixel glory. The speaker is currently unused, but it works either with PWM or audiopwmio.&lt;/p&gt;
&lt;section id="logs"&gt;
&lt;h2&gt;Logs&lt;/h2&gt;
&lt;ul class="postlist-style-none postlist simple"&gt;
&lt;li class="ablog-post"&gt;&lt;p class="ablog-post-title"&gt;2024-08-07 - &lt;a class="reference internal" href="../projects/project-197886/log-1/"&gt;Better Power Circuit&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/section&gt;
&lt;/section&gt;
</content>
    <link href="http://deshipu.art/projects/project-197886/" rel="alternate"/>
    <summary>Tiny handheld with OLED and XIAO.</summary>
    <category term="completedproject" label="completed project"/>
    <category term="hardware" label="hardware"/>
    <published>2024-10-07T00:00:00+02:00</published>
  </entry>
</feed>
